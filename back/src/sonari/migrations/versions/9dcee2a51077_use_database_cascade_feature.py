"""Use database CASCADE feature.

Revision ID: 9dcee2a51077
Revises: 03a1d239e06e
Create Date: 2024-06-27 11:49:01.737072

"""

from typing import Sequence, Union

from alembic import op

# revision identifiers, used by Alembic.
revision: str = "9dcee2a51077"
down_revision: Union[str, None] = "03a1d239e06e"
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    dialect = op.get_context().dialect.name

    if dialect == "postgresql":
        # ### commands auto generated by Alembic - please adjust! ###
        op.create_unique_constraint(
            op.f("uq_annotation_project_tag_annotation_project_id"),
            "annotation_project_tag",
            ["annotation_project_id", "tag_id"],
        )
        op.drop_constraint(
            "fk_annotation_project_tag_annotation_project_id_annotat_162a",
            "annotation_project_tag",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_annotation_project_tag_annotation_project_id_annotation_project"),
            "annotation_project_tag",
            "annotation_project",
            ["annotation_project_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_annotation_status_badge_annotation_task_id_annotation_task",
            "annotation_status_badge",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_annotation_status_badge_annotation_task_id_annotation_task"),
            "annotation_status_badge",
            "annotation_task",
            ["annotation_task_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_annotation_task_clip_annotation_id_clip_annotation",
            "annotation_task",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_annotation_task_clip_id_clip",
            "annotation_task",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_annotation_task_annotation_project_id_annotation_project",
            "annotation_task",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_annotation_task_clip_annotation_id_clip_annotation"),
            "annotation_task",
            "clip_annotation",
            ["clip_annotation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_annotation_task_annotation_project_id_annotation_project"),
            "annotation_task",
            "annotation_project",
            ["annotation_project_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_annotation_task_clip_id_clip"),
            "annotation_task",
            "clip",
            ["clip_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint("fk_clip_recording_id_recording", "clip", type_="foreignkey")
        op.create_foreign_key(
            op.f("fk_clip_recording_id_recording"),
            "clip",
            "recording",
            ["recording_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_clip_annotation_clip_id_clip",
            "clip_annotation",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_clip_annotation_clip_id_clip"),
            "clip_annotation",
            "clip",
            ["clip_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_clip_annotation_note_note_id_note",
            "clip_annotation_note",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_clip_annotation_note_clip_annotation_id_clip_annotation",
            "clip_annotation_note",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_clip_annotation_note_note_id_note"),
            "clip_annotation_note",
            "note",
            ["note_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_clip_annotation_note_clip_annotation_id_clip_annotation"),
            "clip_annotation_note",
            "clip_annotation",
            ["clip_annotation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_clip_annotation_tag_clip_annotation_id_clip_annotation",
            "clip_annotation_tag",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_clip_annotation_tag_clip_annotation_id_clip_annotation"),
            "clip_annotation_tag",
            "clip_annotation",
            ["clip_annotation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_clip_evaluation_evaluation_id_evaluation",
            "clip_evaluation",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_clip_evaluation_clip_annotation_id_clip_annotation",
            "clip_evaluation",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_clip_evaluation_clip_prediction_id_clip_prediction",
            "clip_evaluation",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_clip_evaluation_clip_annotation_id_clip_annotation"),
            "clip_evaluation",
            "clip_annotation",
            ["clip_annotation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_clip_evaluation_evaluation_id_evaluation"),
            "clip_evaluation",
            "evaluation",
            ["evaluation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_clip_evaluation_clip_prediction_id_clip_prediction"),
            "clip_evaluation",
            "clip_prediction",
            ["clip_prediction_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_clip_evaluation_metric_feature_name_id_feature_name",
            "clip_evaluation_metric",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_clip_evaluation_metric_clip_evaluation_id_clip_evaluation",
            "clip_evaluation_metric",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_clip_evaluation_metric_feature_name_id_feature_name"),
            "clip_evaluation_metric",
            "feature_name",
            ["feature_name_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_clip_evaluation_metric_clip_evaluation_id_clip_evaluation"),
            "clip_evaluation_metric",
            "clip_evaluation",
            ["clip_evaluation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_unique_constraint(
            op.f("uq_clip_feature_clip_id"),
            "clip_feature",
            ["clip_id", "feature_name_id"],
        )
        op.drop_constraint(
            "fk_clip_feature_feature_name_id_feature_name",
            "clip_feature",
            type_="foreignkey",
        )
        op.drop_constraint("fk_clip_feature_clip_id_clip", "clip_feature", type_="foreignkey")
        op.create_foreign_key(
            op.f("fk_clip_feature_clip_id_clip"),
            "clip_feature",
            "clip",
            ["clip_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_clip_feature_feature_name_id_feature_name"),
            "clip_feature",
            "feature_name",
            ["feature_name_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_clip_prediction_clip_id_clip",
            "clip_prediction",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_clip_prediction_clip_id_clip"),
            "clip_prediction",
            "clip",
            ["clip_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_clip_prediction_tag_clip_prediction_id_clip_prediction",
            "clip_prediction_tag",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_clip_prediction_tag_clip_prediction_id_clip_prediction"),
            "clip_prediction_tag",
            "clip_prediction",
            ["clip_prediction_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_dataset_recording_recording_id_recording",
            "dataset_recording",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_dataset_recording_dataset_id_dataset",
            "dataset_recording",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_dataset_recording_recording_id_recording"),
            "dataset_recording",
            "recording",
            ["recording_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_dataset_recording_dataset_id_dataset"),
            "dataset_recording",
            "dataset",
            ["dataset_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_evaluation_metric_evaluation_id_evaluation",
            "evaluation_metric",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_evaluation_metric_feature_name_id_feature_name",
            "evaluation_metric",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_evaluation_metric_feature_name_id_feature_name"),
            "evaluation_metric",
            "feature_name",
            ["feature_name_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_evaluation_metric_evaluation_id_evaluation"),
            "evaluation_metric",
            "evaluation",
            ["evaluation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_unique_constraint(
            op.f("uq_evaluation_set_annotation_evaluation_set_id"),
            "evaluation_set_annotation",
            ["evaluation_set_id", "clip_annotation_id"],
        )
        op.drop_constraint(
            "fk_evaluation_set_annotation_clip_annotation_id_clip_annotation",
            "evaluation_set_annotation",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_evaluation_set_annotation_evaluation_set_id_evaluation_set",
            "evaluation_set_annotation",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_evaluation_set_annotation_clip_annotation_id_clip_annotation"),
            "evaluation_set_annotation",
            "clip_annotation",
            ["clip_annotation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_evaluation_set_annotation_evaluation_set_id_evaluation_set"),
            "evaluation_set_annotation",
            "evaluation_set",
            ["evaluation_set_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_unique_constraint(
            op.f("uq_evaluation_set_model_run_evaluation_set_id"),
            "evaluation_set_model_run",
            ["evaluation_set_id", "model_run_id"],
        )
        op.drop_constraint(
            "fk_evaluation_set_model_run_evaluation_set_id_evaluation_set",
            "evaluation_set_model_run",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_evaluation_set_model_run_model_run_id_model_run",
            "evaluation_set_model_run",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_evaluation_set_model_run_evaluation_set_id_evaluation_set"),
            "evaluation_set_model_run",
            "evaluation_set",
            ["evaluation_set_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_evaluation_set_model_run_model_run_id_model_run"),
            "evaluation_set_model_run",
            "model_run",
            ["model_run_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_unique_constraint(
            op.f("uq_evaluation_set_tag_evaluation_set_id"),
            "evaluation_set_tag",
            ["evaluation_set_id", "tag_id"],
        )
        op.drop_constraint(
            "fk_evaluation_set_tag_evaluation_set_id_evaluation_set",
            "evaluation_set_tag",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_evaluation_set_tag_evaluation_set_id_evaluation_set"),
            "evaluation_set_tag",
            "evaluation_set",
            ["evaluation_set_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_unique_constraint(
            op.f("uq_evaluation_set_user_run_evaluation_set_id"),
            "evaluation_set_user_run",
            ["evaluation_set_id", "user_run_id"],
        )
        op.drop_constraint(
            "fk_evaluation_set_user_run_evaluation_set_id_evaluation_set",
            "evaluation_set_user_run",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_evaluation_set_user_run_evaluation_set_id_evaluation_set"),
            "evaluation_set_user_run",
            "evaluation_set",
            ["evaluation_set_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_model_run_evaluation_model_run_id_model_run",
            "model_run_evaluation",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_model_run_evaluation_evaluation_id_evaluation",
            "model_run_evaluation",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_model_run_evaluation_model_run_id_model_run"),
            "model_run_evaluation",
            "model_run",
            ["model_run_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_model_run_evaluation_evaluation_id_evaluation"),
            "model_run_evaluation",
            "evaluation",
            ["evaluation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_unique_constraint(
            op.f("uq_model_run_prediction_model_run_id"),
            "model_run_prediction",
            ["model_run_id", "clip_prediction_id"],
        )
        op.drop_constraint(
            "fk_model_run_prediction_model_run_id_model_run",
            "model_run_prediction",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_model_run_prediction_model_run_id_model_run"),
            "model_run_prediction",
            "model_run",
            ["model_run_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_unique_constraint(
            op.f("uq_recording_feature_recording_id"),
            "recording_feature",
            ["recording_id", "feature_name_id"],
        )
        op.drop_constraint(
            "fk_recording_feature_recording_id_recording",
            "recording_feature",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_recording_feature_recording_id_recording"),
            "recording_feature",
            "recording",
            ["recording_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_unique_constraint(
            op.f("uq_recording_note_recording_id"),
            "recording_note",
            ["recording_id", "note_id"],
        )
        op.drop_constraint(
            "fk_recording_note_recording_id_recording",
            "recording_note",
            type_="foreignkey",
        )
        op.drop_constraint("fk_recording_note_note_id_note", "recording_note", type_="foreignkey")
        op.create_foreign_key(
            op.f("fk_recording_note_recording_id_recording"),
            "recording_note",
            "recording",
            ["recording_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_recording_note_note_id_note"),
            "recording_note",
            "note",
            ["note_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_unique_constraint(
            op.f("uq_recording_owner_recording_id"),
            "recording_owner",
            ["recording_id", "user_id"],
        )
        op.drop_constraint(
            "fk_recording_owner_recording_id_recording",
            "recording_owner",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_recording_owner_recording_id_recording"),
            "recording_owner",
            "recording",
            ["recording_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_unique_constraint(
            op.f("uq_recording_tag_recording_id"),
            "recording_tag",
            ["recording_id", "tag_id"],
        )
        op.drop_constraint(
            "fk_recording_tag_recording_id_recording",
            "recording_tag",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_recording_tag_recording_id_recording"),
            "recording_tag",
            "recording",
            ["recording_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_sound_event_recording_id_recording",
            "sound_event",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_sound_event_recording_id_recording"),
            "sound_event",
            "recording",
            ["recording_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_sound_event_annotation_clip_annotation_id_clip_annotation",
            "sound_event_annotation",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_sound_event_annotation_clip_annotation_id_clip_annotation"),
            "sound_event_annotation",
            "clip_annotation",
            ["clip_annotation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_unique_constraint(
            op.f("uq_sound_event_annotation_note_sound_event_annotation_id"),
            "sound_event_annotation_note",
            ["sound_event_annotation_id", "note_id"],
        )
        op.drop_constraint(
            "fk_sound_event_annotation_note_note_id_note",
            "sound_event_annotation_note",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_sound_event_annotation_note_sound_event_annotation_i_a077",
            "sound_event_annotation_note",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_sound_event_annotation_note_note_id_note"),
            "sound_event_annotation_note",
            "note",
            ["note_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_sound_event_annotation_note_sound_event_annotation_id_sound_event_annotation"),
            "sound_event_annotation_note",
            "sound_event_annotation",
            ["sound_event_annotation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_sound_event_annotation_tag_sound_event_annotation_id_0f5d",
            "sound_event_annotation_tag",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_sound_event_annotation_tag_sound_event_annotation_id_sound_event_annotation"),
            "sound_event_annotation_tag",
            "sound_event_annotation",
            ["sound_event_annotation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_sound_event_evaluation_clip_evaluation_id_clip_evaluation",
            "sound_event_evaluation",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_sound_event_evaluation_clip_evaluation_id_clip_evaluation"),
            "sound_event_evaluation",
            "clip_evaluation",
            ["clip_evaluation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_sound_event_evaluation_metric_feature_name_id_feature_name",
            "sound_event_evaluation_metric",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_sound_event_evaluation_metric_sound_event_evaluation_a83f",
            "sound_event_evaluation_metric",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_sound_event_evaluation_metric_feature_name_id_feature_name"),
            "sound_event_evaluation_metric",
            "feature_name",
            ["feature_name_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_sound_event_evaluation_metric_sound_event_evaluation_id_sound_event_evaluation"),
            "sound_event_evaluation_metric",
            "sound_event_evaluation",
            ["sound_event_evaluation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_unique_constraint(
            op.f("uq_sound_event_feature_sound_event_id"),
            "sound_event_feature",
            ["sound_event_id", "feature_name_id"],
        )
        op.drop_constraint(
            "fk_sound_event_feature_feature_name_id_feature_name",
            "sound_event_feature",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_sound_event_feature_sound_event_id_sound_event",
            "sound_event_feature",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_sound_event_feature_feature_name_id_feature_name"),
            "sound_event_feature",
            "feature_name",
            ["feature_name_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_sound_event_feature_sound_event_id_sound_event"),
            "sound_event_feature",
            "sound_event",
            ["sound_event_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_sound_event_prediction_clip_prediction_id_clip_prediction",
            "sound_event_prediction",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_sound_event_prediction_clip_prediction_id_clip_prediction"),
            "sound_event_prediction",
            "clip_prediction",
            ["clip_prediction_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_unique_constraint(
            op.f("uq_sound_event_prediction_tag_sound_event_prediction_id"),
            "sound_event_prediction_tag",
            ["sound_event_prediction_id", "tag_id"],
        )
        op.drop_constraint(
            "fk_sound_event_prediction_tag_sound_event_prediction_id_3b1e",
            "sound_event_prediction_tag",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_sound_event_prediction_tag_sound_event_prediction_id_sound_event_prediction"),
            "sound_event_prediction_tag",
            "sound_event_prediction",
            ["sound_event_prediction_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.drop_constraint(
            "fk_user_run_evaluation_evaluation_id_evaluation",
            "user_run_evaluation",
            type_="foreignkey",
        )
        op.drop_constraint(
            "fk_user_run_evaluation_user_run_id_user_run",
            "user_run_evaluation",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_user_run_evaluation_evaluation_id_evaluation"),
            "user_run_evaluation",
            "evaluation",
            ["evaluation_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_foreign_key(
            op.f("fk_user_run_evaluation_user_run_id_user_run"),
            "user_run_evaluation",
            "user_run",
            ["user_run_id"],
            ["id"],
            ondelete="CASCADE",
        )
        op.create_unique_constraint(
            op.f("uq_user_run_prediction_user_run_id"),
            "user_run_prediction",
            ["user_run_id", "clip_prediction_id"],
        )
        op.drop_constraint(
            "fk_user_run_prediction_user_run_id_user_run",
            "user_run_prediction",
            type_="foreignkey",
        )
        op.create_foreign_key(
            op.f("fk_user_run_prediction_user_run_id_user_run"),
            "user_run_prediction",
            "user_run",
            ["user_run_id"],
            ["id"],
            ondelete="CASCADE",
        )
        # ### end Alembic commands ###
    elif dialect == "sqlite":
        # ### commands auto generated by Alembic - please adjust! ###
        with op.batch_alter_table("annotation_project_tag", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_annotation_project_tag_annotation_project_id_annotation_project",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_annotation_project_tag_annotation_project_id_annotation_project"),
                "annotation_project",
                ["annotation_project_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("annotation_status_badge", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_annotation_status_badge_annotation_task_id_annotation_task",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_annotation_status_badge_annotation_task_id_annotation_task"),
                "annotation_task",
                ["annotation_task_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("annotation_task", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_annotation_task_clip_annotation_id_clip_annotation",
                type_="foreignkey",
            )
            batch_op.drop_constraint("fk_annotation_task_clip_id_clip", type_="foreignkey")
            batch_op.drop_constraint(
                "fk_annotation_task_annotation_project_id_annotation_project",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_annotation_task_annotation_project_id_annotation_project"),
                "annotation_project",
                ["annotation_project_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_annotation_task_clip_annotation_id_clip_annotation"),
                "clip_annotation",
                ["clip_annotation_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_annotation_task_clip_id_clip"),
                "clip",
                ["clip_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("clip", schema=None) as batch_op:
            batch_op.drop_constraint("fk_clip_recording_id_recording", type_="foreignkey")
            batch_op.create_foreign_key(
                batch_op.f("fk_clip_recording_id_recording"),
                "recording",
                ["recording_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("clip_annotation", schema=None) as batch_op:
            batch_op.drop_constraint("fk_clip_annotation_clip_id_clip", type_="foreignkey")
            batch_op.create_foreign_key(
                batch_op.f("fk_clip_annotation_clip_id_clip"),
                "clip",
                ["clip_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("clip_annotation_note", schema=None) as batch_op:
            batch_op.drop_constraint("fk_clip_annotation_note_note_id_note", type_="foreignkey")
            batch_op.drop_constraint(
                "fk_clip_annotation_note_clip_annotation_id_clip_annotation",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_clip_annotation_note_clip_annotation_id_clip_annotation"),
                "clip_annotation",
                ["clip_annotation_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_clip_annotation_note_note_id_note"),
                "note",
                ["note_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("clip_annotation_tag", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_clip_annotation_tag_clip_annotation_id_clip_annotation",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_clip_annotation_tag_clip_annotation_id_clip_annotation"),
                "clip_annotation",
                ["clip_annotation_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("clip_evaluation", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_clip_evaluation_clip_annotation_id_clip_annotation",
                type_="foreignkey",
            )
            batch_op.drop_constraint("fk_clip_evaluation_evaluation_id_evaluation", type_="foreignkey")
            batch_op.drop_constraint(
                "fk_clip_evaluation_clip_prediction_id_clip_prediction",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_clip_evaluation_clip_prediction_id_clip_prediction"),
                "clip_prediction",
                ["clip_prediction_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_clip_evaluation_clip_annotation_id_clip_annotation"),
                "clip_annotation",
                ["clip_annotation_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_clip_evaluation_evaluation_id_evaluation"),
                "evaluation",
                ["evaluation_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("clip_evaluation_metric", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_clip_evaluation_metric_feature_name_id_feature_name",
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                "fk_clip_evaluation_metric_clip_evaluation_id_clip_evaluation",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_clip_evaluation_metric_feature_name_id_feature_name"),
                "feature_name",
                ["feature_name_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_clip_evaluation_metric_clip_evaluation_id_clip_evaluation"),
                "clip_evaluation",
                ["clip_evaluation_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("clip_feature", schema=None) as batch_op:
            batch_op.drop_constraint("fk_clip_feature_feature_name_id_feature_name", type_="foreignkey")
            batch_op.drop_constraint("fk_clip_feature_clip_id_clip", type_="foreignkey")
            batch_op.create_foreign_key(
                batch_op.f("fk_clip_feature_clip_id_clip"),
                "clip",
                ["clip_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_clip_feature_feature_name_id_feature_name"),
                "feature_name",
                ["feature_name_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("clip_prediction", schema=None) as batch_op:
            batch_op.drop_constraint("fk_clip_prediction_clip_id_clip", type_="foreignkey")
            batch_op.create_foreign_key(
                batch_op.f("fk_clip_prediction_clip_id_clip"),
                "clip",
                ["clip_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("clip_prediction_tag", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_clip_prediction_tag_clip_prediction_id_clip_prediction",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_clip_prediction_tag_clip_prediction_id_clip_prediction"),
                "clip_prediction",
                ["clip_prediction_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("dataset_recording", schema=None) as batch_op:
            batch_op.drop_constraint("fk_dataset_recording_recording_id_recording", type_="foreignkey")
            batch_op.drop_constraint("fk_dataset_recording_dataset_id_dataset", type_="foreignkey")
            batch_op.create_foreign_key(
                batch_op.f("fk_dataset_recording_recording_id_recording"),
                "recording",
                ["recording_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_dataset_recording_dataset_id_dataset"),
                "dataset",
                ["dataset_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("evaluation_metric", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_evaluation_metric_feature_name_id_feature_name",
                type_="foreignkey",
            )
            batch_op.drop_constraint("fk_evaluation_metric_evaluation_id_evaluation", type_="foreignkey")
            batch_op.create_foreign_key(
                batch_op.f("fk_evaluation_metric_feature_name_id_feature_name"),
                "feature_name",
                ["feature_name_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_evaluation_metric_evaluation_id_evaluation"),
                "evaluation",
                ["evaluation_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("evaluation_set_annotation", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_evaluation_set_annotation_clip_annotation_id_clip_annotation",
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                "fk_evaluation_set_annotation_evaluation_set_id_evaluation_set",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_evaluation_set_annotation_clip_annotation_id_clip_annotation"),
                "clip_annotation",
                ["clip_annotation_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_evaluation_set_annotation_evaluation_set_id_evaluation_set"),
                "evaluation_set",
                ["evaluation_set_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("evaluation_set_model_run", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_evaluation_set_model_run_model_run_id_model_run",
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                "fk_evaluation_set_model_run_evaluation_set_id_evaluation_set",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_evaluation_set_model_run_evaluation_set_id_evaluation_set"),
                "evaluation_set",
                ["evaluation_set_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_evaluation_set_model_run_model_run_id_model_run"),
                "model_run",
                ["model_run_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("evaluation_set_tag", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_evaluation_set_tag_evaluation_set_id_evaluation_set",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_evaluation_set_tag_evaluation_set_id_evaluation_set"),
                "evaluation_set",
                ["evaluation_set_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("evaluation_set_user_run", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_evaluation_set_user_run_evaluation_set_id_evaluation_set",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_evaluation_set_user_run_evaluation_set_id_evaluation_set"),
                "evaluation_set",
                ["evaluation_set_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("model_run_evaluation", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_model_run_evaluation_evaluation_id_evaluation",
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                "fk_model_run_evaluation_model_run_id_model_run",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_model_run_evaluation_evaluation_id_evaluation"),
                "evaluation",
                ["evaluation_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_model_run_evaluation_model_run_id_model_run"),
                "model_run",
                ["model_run_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("model_run_prediction", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_model_run_prediction_model_run_id_model_run",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_model_run_prediction_model_run_id_model_run"),
                "model_run",
                ["model_run_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("recording_feature", schema=None) as batch_op:
            batch_op.drop_constraint("fk_recording_feature_recording_id_recording", type_="foreignkey")
            batch_op.create_foreign_key(
                batch_op.f("fk_recording_feature_recording_id_recording"),
                "recording",
                ["recording_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("recording_note", schema=None) as batch_op:
            batch_op.drop_constraint("fk_recording_note_note_id_note", type_="foreignkey")
            batch_op.drop_constraint("fk_recording_note_recording_id_recording", type_="foreignkey")
            batch_op.create_foreign_key(
                batch_op.f("fk_recording_note_note_id_note"),
                "note",
                ["note_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_recording_note_recording_id_recording"),
                "recording",
                ["recording_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("recording_owner", schema=None) as batch_op:
            batch_op.drop_constraint("fk_recording_owner_recording_id_recording", type_="foreignkey")
            batch_op.create_foreign_key(
                batch_op.f("fk_recording_owner_recording_id_recording"),
                "recording",
                ["recording_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("recording_tag", schema=None) as batch_op:
            batch_op.drop_constraint("fk_recording_tag_recording_id_recording", type_="foreignkey")
            batch_op.create_foreign_key(
                batch_op.f("fk_recording_tag_recording_id_recording"),
                "recording",
                ["recording_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("sound_event", schema=None) as batch_op:
            batch_op.drop_constraint("fk_sound_event_recording_id_recording", type_="foreignkey")
            batch_op.create_foreign_key(
                batch_op.f("fk_sound_event_recording_id_recording"),
                "recording",
                ["recording_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("sound_event_annotation", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_sound_event_annotation_clip_annotation_id_clip_annotation",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_sound_event_annotation_clip_annotation_id_clip_annotation"),
                "clip_annotation",
                ["clip_annotation_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("sound_event_annotation_note", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_sound_event_annotation_note_sound_event_annotation_id_sound_event_annotation",
                type_="foreignkey",
            )
            batch_op.drop_constraint("fk_sound_event_annotation_note_note_id_note", type_="foreignkey")
            batch_op.create_foreign_key(
                batch_op.f("fk_sound_event_annotation_note_sound_event_annotation_id_sound_event_annotation"),
                "sound_event_annotation",
                ["sound_event_annotation_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_sound_event_annotation_note_note_id_note"),
                "note",
                ["note_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("sound_event_annotation_tag", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_sound_event_annotation_tag_sound_event_annotation_id_sound_event_annotation",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_sound_event_annotation_tag_sound_event_annotation_id_sound_event_annotation"),
                "sound_event_annotation",
                ["sound_event_annotation_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("sound_event_evaluation", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_sound_event_evaluation_clip_evaluation_id_clip_evaluation",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_sound_event_evaluation_clip_evaluation_id_clip_evaluation"),
                "clip_evaluation",
                ["clip_evaluation_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("sound_event_evaluation_metric", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_sound_event_evaluation_metric_sound_event_evaluation_id_sound_event_evaluation",
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                "fk_sound_event_evaluation_metric_feature_name_id_feature_name",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_sound_event_evaluation_metric_sound_event_evaluation_id_sound_event_evaluation"),
                "sound_event_evaluation",
                ["sound_event_evaluation_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_sound_event_evaluation_metric_feature_name_id_feature_name"),
                "feature_name",
                ["feature_name_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("sound_event_feature", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_sound_event_feature_feature_name_id_feature_name",
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                "fk_sound_event_feature_sound_event_id_sound_event",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_sound_event_feature_feature_name_id_feature_name"),
                "feature_name",
                ["feature_name_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_sound_event_feature_sound_event_id_sound_event"),
                "sound_event",
                ["sound_event_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("sound_event_prediction", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_sound_event_prediction_clip_prediction_id_clip_prediction",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_sound_event_prediction_clip_prediction_id_clip_prediction"),
                "clip_prediction",
                ["clip_prediction_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("sound_event_prediction_tag", schema=None) as batch_op:
            batch_op.drop_constraint(
                "fk_sound_event_prediction_tag_sound_event_prediction_id_sound_event_prediction",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_sound_event_prediction_tag_sound_event_prediction_id_sound_event_prediction"),
                "sound_event_prediction",
                ["sound_event_prediction_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("user_run_evaluation", schema=None) as batch_op:
            batch_op.drop_constraint("fk_user_run_evaluation_user_run_id_user_run", type_="foreignkey")
            batch_op.drop_constraint(
                "fk_user_run_evaluation_evaluation_id_evaluation",
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_user_run_evaluation_user_run_id_user_run"),
                "user_run",
                ["user_run_id"],
                ["id"],
                ondelete="CASCADE",
            )
            batch_op.create_foreign_key(
                batch_op.f("fk_user_run_evaluation_evaluation_id_evaluation"),
                "evaluation",
                ["evaluation_id"],
                ["id"],
                ondelete="CASCADE",
            )

        with op.batch_alter_table("user_run_prediction", schema=None) as batch_op:
            batch_op.drop_constraint("fk_user_run_prediction_user_run_id_user_run", type_="foreignkey")
            batch_op.create_foreign_key(
                batch_op.f("fk_user_run_prediction_user_run_id_user_run"),
                "user_run",
                ["user_run_id"],
                ["id"],
                ondelete="CASCADE",
            )

        # ### end Alembic commands ###


def downgrade() -> None:
    dialect = op.get_context().dialect.name

    if dialect == "postgresql":
        # ### commands auto generated by Alembic - please adjust! ###
        op.drop_constraint(
            op.f("fk_user_run_prediction_user_run_id_user_run"),
            "user_run_prediction",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_user_run_prediction_user_run_id_user_run",
            "user_run_prediction",
            "user_run",
            ["user_run_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("uq_user_run_prediction_user_run_id"),
            "user_run_prediction",
            type_="unique",
        )
        op.drop_constraint(
            op.f("fk_user_run_evaluation_user_run_id_user_run"),
            "user_run_evaluation",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_user_run_evaluation_evaluation_id_evaluation"),
            "user_run_evaluation",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_user_run_evaluation_user_run_id_user_run",
            "user_run_evaluation",
            "user_run",
            ["user_run_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_user_run_evaluation_evaluation_id_evaluation",
            "user_run_evaluation",
            "evaluation",
            ["evaluation_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_sound_event_prediction_tag_sound_event_prediction_id_sound_event_prediction"),
            "sound_event_prediction_tag",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_sound_event_prediction_tag_sound_event_prediction_id_3b1e",
            "sound_event_prediction_tag",
            "sound_event_prediction",
            ["sound_event_prediction_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("uq_sound_event_prediction_tag_sound_event_prediction_id"),
            "sound_event_prediction_tag",
            type_="unique",
        )
        op.drop_constraint(
            op.f("fk_sound_event_prediction_clip_prediction_id_clip_prediction"),
            "sound_event_prediction",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_sound_event_prediction_clip_prediction_id_clip_prediction",
            "sound_event_prediction",
            "clip_prediction",
            ["clip_prediction_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_sound_event_feature_sound_event_id_sound_event"),
            "sound_event_feature",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_sound_event_feature_feature_name_id_feature_name"),
            "sound_event_feature",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_sound_event_feature_sound_event_id_sound_event",
            "sound_event_feature",
            "sound_event",
            ["sound_event_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_sound_event_feature_feature_name_id_feature_name",
            "sound_event_feature",
            "feature_name",
            ["feature_name_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("uq_sound_event_feature_sound_event_id"),
            "sound_event_feature",
            type_="unique",
        )
        op.drop_constraint(
            op.f("fk_sound_event_evaluation_metric_sound_event_evaluation_id_sound_event_evaluation"),
            "sound_event_evaluation_metric",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_sound_event_evaluation_metric_feature_name_id_feature_name"),
            "sound_event_evaluation_metric",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_sound_event_evaluation_metric_sound_event_evaluation_a83f",
            "sound_event_evaluation_metric",
            "sound_event_evaluation",
            ["sound_event_evaluation_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_sound_event_evaluation_metric_feature_name_id_feature_name",
            "sound_event_evaluation_metric",
            "feature_name",
            ["feature_name_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_sound_event_evaluation_clip_evaluation_id_clip_evaluation"),
            "sound_event_evaluation",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_sound_event_evaluation_clip_evaluation_id_clip_evaluation",
            "sound_event_evaluation",
            "clip_evaluation",
            ["clip_evaluation_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_sound_event_annotation_tag_sound_event_annotation_id_sound_event_annotation"),
            "sound_event_annotation_tag",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_sound_event_annotation_tag_sound_event_annotation_id_0f5d",
            "sound_event_annotation_tag",
            "sound_event_annotation",
            ["sound_event_annotation_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_sound_event_annotation_note_sound_event_annotation_id_sound_event_annotation"),
            "sound_event_annotation_note",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_sound_event_annotation_note_note_id_note"),
            "sound_event_annotation_note",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_sound_event_annotation_note_sound_event_annotation_i_a077",
            "sound_event_annotation_note",
            "sound_event_annotation",
            ["sound_event_annotation_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_sound_event_annotation_note_note_id_note",
            "sound_event_annotation_note",
            "note",
            ["note_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("uq_sound_event_annotation_note_sound_event_annotation_id"),
            "sound_event_annotation_note",
            type_="unique",
        )
        op.drop_constraint(
            op.f("fk_sound_event_annotation_clip_annotation_id_clip_annotation"),
            "sound_event_annotation",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_sound_event_annotation_clip_annotation_id_clip_annotation",
            "sound_event_annotation",
            "clip_annotation",
            ["clip_annotation_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_sound_event_recording_id_recording"),
            "sound_event",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_sound_event_recording_id_recording",
            "sound_event",
            "recording",
            ["recording_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_recording_tag_recording_id_recording"),
            "recording_tag",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_recording_tag_recording_id_recording",
            "recording_tag",
            "recording",
            ["recording_id"],
            ["id"],
        )
        op.drop_constraint(op.f("uq_recording_tag_recording_id"), "recording_tag", type_="unique")
        op.drop_constraint(
            op.f("fk_recording_owner_recording_id_recording"),
            "recording_owner",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_recording_owner_recording_id_recording",
            "recording_owner",
            "recording",
            ["recording_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("uq_recording_owner_recording_id"),
            "recording_owner",
            type_="unique",
        )
        op.drop_constraint(
            op.f("fk_recording_note_note_id_note"),
            "recording_note",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_recording_note_recording_id_recording"),
            "recording_note",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_recording_note_note_id_note",
            "recording_note",
            "note",
            ["note_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_recording_note_recording_id_recording",
            "recording_note",
            "recording",
            ["recording_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("uq_recording_note_recording_id"),
            "recording_note",
            type_="unique",
        )
        op.drop_constraint(
            op.f("fk_recording_feature_recording_id_recording"),
            "recording_feature",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_recording_feature_recording_id_recording",
            "recording_feature",
            "recording",
            ["recording_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("uq_recording_feature_recording_id"),
            "recording_feature",
            type_="unique",
        )
        op.drop_constraint(
            op.f("fk_model_run_prediction_model_run_id_model_run"),
            "model_run_prediction",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_model_run_prediction_model_run_id_model_run",
            "model_run_prediction",
            "model_run",
            ["model_run_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("uq_model_run_prediction_model_run_id"),
            "model_run_prediction",
            type_="unique",
        )
        op.drop_constraint(
            op.f("fk_model_run_evaluation_evaluation_id_evaluation"),
            "model_run_evaluation",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_model_run_evaluation_model_run_id_model_run"),
            "model_run_evaluation",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_model_run_evaluation_evaluation_id_evaluation",
            "model_run_evaluation",
            "evaluation",
            ["evaluation_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_model_run_evaluation_model_run_id_model_run",
            "model_run_evaluation",
            "model_run",
            ["model_run_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_evaluation_set_user_run_evaluation_set_id_evaluation_set"),
            "evaluation_set_user_run",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_evaluation_set_user_run_evaluation_set_id_evaluation_set",
            "evaluation_set_user_run",
            "evaluation_set",
            ["evaluation_set_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("uq_evaluation_set_user_run_evaluation_set_id"),
            "evaluation_set_user_run",
            type_="unique",
        )
        op.drop_constraint(
            op.f("fk_evaluation_set_tag_evaluation_set_id_evaluation_set"),
            "evaluation_set_tag",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_evaluation_set_tag_evaluation_set_id_evaluation_set",
            "evaluation_set_tag",
            "evaluation_set",
            ["evaluation_set_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("uq_evaluation_set_tag_evaluation_set_id"),
            "evaluation_set_tag",
            type_="unique",
        )
        op.drop_constraint(
            op.f("fk_evaluation_set_model_run_model_run_id_model_run"),
            "evaluation_set_model_run",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_evaluation_set_model_run_evaluation_set_id_evaluation_set"),
            "evaluation_set_model_run",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_evaluation_set_model_run_model_run_id_model_run",
            "evaluation_set_model_run",
            "model_run",
            ["model_run_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_evaluation_set_model_run_evaluation_set_id_evaluation_set",
            "evaluation_set_model_run",
            "evaluation_set",
            ["evaluation_set_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("uq_evaluation_set_model_run_evaluation_set_id"),
            "evaluation_set_model_run",
            type_="unique",
        )
        op.drop_constraint(
            op.f("fk_evaluation_set_annotation_evaluation_set_id_evaluation_set"),
            "evaluation_set_annotation",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_evaluation_set_annotation_clip_annotation_id_clip_annotation"),
            "evaluation_set_annotation",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_evaluation_set_annotation_evaluation_set_id_evaluation_set",
            "evaluation_set_annotation",
            "evaluation_set",
            ["evaluation_set_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_evaluation_set_annotation_clip_annotation_id_clip_annotation",
            "evaluation_set_annotation",
            "clip_annotation",
            ["clip_annotation_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("uq_evaluation_set_annotation_evaluation_set_id"),
            "evaluation_set_annotation",
            type_="unique",
        )
        op.drop_constraint(
            op.f("fk_evaluation_metric_evaluation_id_evaluation"),
            "evaluation_metric",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_evaluation_metric_feature_name_id_feature_name"),
            "evaluation_metric",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_evaluation_metric_feature_name_id_feature_name",
            "evaluation_metric",
            "feature_name",
            ["feature_name_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_evaluation_metric_evaluation_id_evaluation",
            "evaluation_metric",
            "evaluation",
            ["evaluation_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_dataset_recording_dataset_id_dataset"),
            "dataset_recording",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_dataset_recording_recording_id_recording"),
            "dataset_recording",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_dataset_recording_dataset_id_dataset",
            "dataset_recording",
            "dataset",
            ["dataset_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_dataset_recording_recording_id_recording",
            "dataset_recording",
            "recording",
            ["recording_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_clip_prediction_tag_clip_prediction_id_clip_prediction"),
            "clip_prediction_tag",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_clip_prediction_tag_clip_prediction_id_clip_prediction",
            "clip_prediction_tag",
            "clip_prediction",
            ["clip_prediction_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_clip_prediction_clip_id_clip"),
            "clip_prediction",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_clip_prediction_clip_id_clip",
            "clip_prediction",
            "clip",
            ["clip_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_clip_feature_feature_name_id_feature_name"),
            "clip_feature",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_clip_feature_clip_id_clip"),
            "clip_feature",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_clip_feature_clip_id_clip",
            "clip_feature",
            "clip",
            ["clip_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_clip_feature_feature_name_id_feature_name",
            "clip_feature",
            "feature_name",
            ["feature_name_id"],
            ["id"],
        )
        op.drop_constraint(op.f("uq_clip_feature_clip_id"), "clip_feature", type_="unique")
        op.drop_constraint(
            op.f("fk_clip_evaluation_metric_clip_evaluation_id_clip_evaluation"),
            "clip_evaluation_metric",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_clip_evaluation_metric_feature_name_id_feature_name"),
            "clip_evaluation_metric",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_clip_evaluation_metric_clip_evaluation_id_clip_evaluation",
            "clip_evaluation_metric",
            "clip_evaluation",
            ["clip_evaluation_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_clip_evaluation_metric_feature_name_id_feature_name",
            "clip_evaluation_metric",
            "feature_name",
            ["feature_name_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_clip_evaluation_clip_prediction_id_clip_prediction"),
            "clip_evaluation",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_clip_evaluation_evaluation_id_evaluation"),
            "clip_evaluation",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_clip_evaluation_clip_annotation_id_clip_annotation"),
            "clip_evaluation",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_clip_evaluation_clip_prediction_id_clip_prediction",
            "clip_evaluation",
            "clip_prediction",
            ["clip_prediction_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_clip_evaluation_clip_annotation_id_clip_annotation",
            "clip_evaluation",
            "clip_annotation",
            ["clip_annotation_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_clip_evaluation_evaluation_id_evaluation",
            "clip_evaluation",
            "evaluation",
            ["evaluation_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_clip_annotation_tag_clip_annotation_id_clip_annotation"),
            "clip_annotation_tag",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_clip_annotation_tag_clip_annotation_id_clip_annotation",
            "clip_annotation_tag",
            "clip_annotation",
            ["clip_annotation_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_clip_annotation_note_clip_annotation_id_clip_annotation"),
            "clip_annotation_note",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_clip_annotation_note_note_id_note"),
            "clip_annotation_note",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_clip_annotation_note_clip_annotation_id_clip_annotation",
            "clip_annotation_note",
            "clip_annotation",
            ["clip_annotation_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_clip_annotation_note_note_id_note",
            "clip_annotation_note",
            "note",
            ["note_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_clip_annotation_clip_id_clip"),
            "clip_annotation",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_clip_annotation_clip_id_clip",
            "clip_annotation",
            "clip",
            ["clip_id"],
            ["id"],
        )
        op.drop_constraint(op.f("fk_clip_recording_id_recording"), "clip", type_="foreignkey")
        op.create_foreign_key(
            "fk_clip_recording_id_recording",
            "clip",
            "recording",
            ["recording_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_annotation_task_clip_id_clip"),
            "annotation_task",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_annotation_task_annotation_project_id_annotation_project"),
            "annotation_task",
            type_="foreignkey",
        )
        op.drop_constraint(
            op.f("fk_annotation_task_clip_annotation_id_clip_annotation"),
            "annotation_task",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_annotation_task_annotation_project_id_annotation_project",
            "annotation_task",
            "annotation_project",
            ["annotation_project_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_annotation_task_clip_id_clip",
            "annotation_task",
            "clip",
            ["clip_id"],
            ["id"],
        )
        op.create_foreign_key(
            "fk_annotation_task_clip_annotation_id_clip_annotation",
            "annotation_task",
            "clip_annotation",
            ["clip_annotation_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_annotation_status_badge_annotation_task_id_annotation_task"),
            "annotation_status_badge",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_annotation_status_badge_annotation_task_id_annotation_task",
            "annotation_status_badge",
            "annotation_task",
            ["annotation_task_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("fk_annotation_project_tag_annotation_project_id_annotation_project"),
            "annotation_project_tag",
            type_="foreignkey",
        )
        op.create_foreign_key(
            "fk_annotation_project_tag_annotation_project_id_annotat_162a",
            "annotation_project_tag",
            "annotation_project",
            ["annotation_project_id"],
            ["id"],
        )
        op.drop_constraint(
            op.f("uq_annotation_project_tag_annotation_project_id"),
            "annotation_project_tag",
            type_="unique",
        )
        # ### end Alembic commands ###

    elif dialect == "sqlite":
        # ### commands auto generated by Alembic - please adjust! ###
        with op.batch_alter_table("user_run_prediction", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_user_run_prediction_user_run_id_user_run"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_user_run_prediction_user_run_id_user_run",
                "user_run",
                ["user_run_id"],
                ["id"],
            )

        with op.batch_alter_table("user_run_evaluation", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_user_run_evaluation_evaluation_id_evaluation"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                batch_op.f("fk_user_run_evaluation_user_run_id_user_run"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_user_run_evaluation_evaluation_id_evaluation",
                "evaluation",
                ["evaluation_id"],
                ["id"],
            )
            batch_op.create_foreign_key(
                "fk_user_run_evaluation_user_run_id_user_run",
                "user_run",
                ["user_run_id"],
                ["id"],
            )

        with op.batch_alter_table("sound_event_prediction_tag", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_sound_event_prediction_tag_sound_event_prediction_id_sound_event_prediction"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_sound_event_prediction_tag_sound_event_prediction_id_sound_event_prediction",
                "sound_event_prediction",
                ["sound_event_prediction_id"],
                ["id"],
            )

        with op.batch_alter_table("sound_event_prediction", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_sound_event_prediction_clip_prediction_id_clip_prediction"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_sound_event_prediction_clip_prediction_id_clip_prediction",
                "clip_prediction",
                ["clip_prediction_id"],
                ["id"],
            )

        with op.batch_alter_table("sound_event_feature", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_sound_event_feature_sound_event_id_sound_event"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                batch_op.f("fk_sound_event_feature_feature_name_id_feature_name"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_sound_event_feature_sound_event_id_sound_event",
                "sound_event",
                ["sound_event_id"],
                ["id"],
            )
            batch_op.create_foreign_key(
                "fk_sound_event_feature_feature_name_id_feature_name",
                "feature_name",
                ["feature_name_id"],
                ["id"],
            )

        with op.batch_alter_table("sound_event_evaluation_metric", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_sound_event_evaluation_metric_feature_name_id_feature_name"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                batch_op.f("fk_sound_event_evaluation_metric_sound_event_evaluation_id_sound_event_evaluation"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_sound_event_evaluation_metric_feature_name_id_feature_name",
                "feature_name",
                ["feature_name_id"],
                ["id"],
            )
            batch_op.create_foreign_key(
                "fk_sound_event_evaluation_metric_sound_event_evaluation_id_sound_event_evaluation",
                "sound_event_evaluation",
                ["sound_event_evaluation_id"],
                ["id"],
            )

        with op.batch_alter_table("sound_event_evaluation", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_sound_event_evaluation_clip_evaluation_id_clip_evaluation"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_sound_event_evaluation_clip_evaluation_id_clip_evaluation",
                "clip_evaluation",
                ["clip_evaluation_id"],
                ["id"],
            )

        with op.batch_alter_table("sound_event_annotation_tag", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_sound_event_annotation_tag_sound_event_annotation_id_sound_event_annotation"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_sound_event_annotation_tag_sound_event_annotation_id_sound_event_annotation",
                "sound_event_annotation",
                ["sound_event_annotation_id"],
                ["id"],
            )

        with op.batch_alter_table("sound_event_annotation_note", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_sound_event_annotation_note_note_id_note"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                batch_op.f("fk_sound_event_annotation_note_sound_event_annotation_id_sound_event_annotation"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_sound_event_annotation_note_note_id_note",
                "note",
                ["note_id"],
                ["id"],
            )
            batch_op.create_foreign_key(
                "fk_sound_event_annotation_note_sound_event_annotation_id_sound_event_annotation",
                "sound_event_annotation",
                ["sound_event_annotation_id"],
                ["id"],
            )

        with op.batch_alter_table("sound_event_annotation", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_sound_event_annotation_clip_annotation_id_clip_annotation"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_sound_event_annotation_clip_annotation_id_clip_annotation",
                "clip_annotation",
                ["clip_annotation_id"],
                ["id"],
            )

        with op.batch_alter_table("sound_event", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_sound_event_recording_id_recording"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_sound_event_recording_id_recording",
                "recording",
                ["recording_id"],
                ["id"],
            )

        with op.batch_alter_table("recording_tag", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_recording_tag_recording_id_recording"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_recording_tag_recording_id_recording",
                "recording",
                ["recording_id"],
                ["id"],
            )

        with op.batch_alter_table("recording_owner", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_recording_owner_recording_id_recording"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_recording_owner_recording_id_recording",
                "recording",
                ["recording_id"],
                ["id"],
            )

        with op.batch_alter_table("recording_note", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_recording_note_recording_id_recording"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(batch_op.f("fk_recording_note_note_id_note"), type_="foreignkey")
            batch_op.create_foreign_key(
                "fk_recording_note_recording_id_recording",
                "recording",
                ["recording_id"],
                ["id"],
            )
            batch_op.create_foreign_key("fk_recording_note_note_id_note", "note", ["note_id"], ["id"])

        with op.batch_alter_table("recording_feature", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_recording_feature_recording_id_recording"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_recording_feature_recording_id_recording",
                "recording",
                ["recording_id"],
                ["id"],
            )

        with op.batch_alter_table("model_run_prediction", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_model_run_prediction_model_run_id_model_run"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_model_run_prediction_model_run_id_model_run",
                "model_run",
                ["model_run_id"],
                ["id"],
            )

        with op.batch_alter_table("model_run_evaluation", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_model_run_evaluation_model_run_id_model_run"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                batch_op.f("fk_model_run_evaluation_evaluation_id_evaluation"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_model_run_evaluation_model_run_id_model_run",
                "model_run",
                ["model_run_id"],
                ["id"],
            )
            batch_op.create_foreign_key(
                "fk_model_run_evaluation_evaluation_id_evaluation",
                "evaluation",
                ["evaluation_id"],
                ["id"],
            )

        with op.batch_alter_table("evaluation_set_user_run", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_evaluation_set_user_run_evaluation_set_id_evaluation_set"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_evaluation_set_user_run_evaluation_set_id_evaluation_set",
                "evaluation_set",
                ["evaluation_set_id"],
                ["id"],
            )

        with op.batch_alter_table("evaluation_set_tag", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_evaluation_set_tag_evaluation_set_id_evaluation_set"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_evaluation_set_tag_evaluation_set_id_evaluation_set",
                "evaluation_set",
                ["evaluation_set_id"],
                ["id"],
            )

        with op.batch_alter_table("evaluation_set_model_run", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_evaluation_set_model_run_model_run_id_model_run"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                batch_op.f("fk_evaluation_set_model_run_evaluation_set_id_evaluation_set"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_evaluation_set_model_run_evaluation_set_id_evaluation_set",
                "evaluation_set",
                ["evaluation_set_id"],
                ["id"],
            )
            batch_op.create_foreign_key(
                "fk_evaluation_set_model_run_model_run_id_model_run",
                "model_run",
                ["model_run_id"],
                ["id"],
            )

        with op.batch_alter_table("evaluation_set_annotation", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_evaluation_set_annotation_evaluation_set_id_evaluation_set"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                batch_op.f("fk_evaluation_set_annotation_clip_annotation_id_clip_annotation"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_evaluation_set_annotation_evaluation_set_id_evaluation_set",
                "evaluation_set",
                ["evaluation_set_id"],
                ["id"],
            )
            batch_op.create_foreign_key(
                "fk_evaluation_set_annotation_clip_annotation_id_clip_annotation",
                "clip_annotation",
                ["clip_annotation_id"],
                ["id"],
            )

        with op.batch_alter_table("evaluation_metric", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_evaluation_metric_evaluation_id_evaluation"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                batch_op.f("fk_evaluation_metric_feature_name_id_feature_name"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_evaluation_metric_evaluation_id_evaluation",
                "evaluation",
                ["evaluation_id"],
                ["id"],
            )
            batch_op.create_foreign_key(
                "fk_evaluation_metric_feature_name_id_feature_name",
                "feature_name",
                ["feature_name_id"],
                ["id"],
            )

        with op.batch_alter_table("dataset_recording", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_dataset_recording_dataset_id_dataset"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                batch_op.f("fk_dataset_recording_recording_id_recording"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_dataset_recording_dataset_id_dataset",
                "dataset",
                ["dataset_id"],
                ["id"],
            )
            batch_op.create_foreign_key(
                "fk_dataset_recording_recording_id_recording",
                "recording",
                ["recording_id"],
                ["id"],
            )

        with op.batch_alter_table("clip_prediction_tag", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_clip_prediction_tag_clip_prediction_id_clip_prediction"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_clip_prediction_tag_clip_prediction_id_clip_prediction",
                "clip_prediction",
                ["clip_prediction_id"],
                ["id"],
            )

        with op.batch_alter_table("clip_prediction", schema=None) as batch_op:
            batch_op.drop_constraint(batch_op.f("fk_clip_prediction_clip_id_clip"), type_="foreignkey")
            batch_op.create_foreign_key("fk_clip_prediction_clip_id_clip", "clip", ["clip_id"], ["id"])

        with op.batch_alter_table("clip_feature", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_clip_feature_feature_name_id_feature_name"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(batch_op.f("fk_clip_feature_clip_id_clip"), type_="foreignkey")
            batch_op.create_foreign_key("fk_clip_feature_clip_id_clip", "clip", ["clip_id"], ["id"])
            batch_op.create_foreign_key(
                "fk_clip_feature_feature_name_id_feature_name",
                "feature_name",
                ["feature_name_id"],
                ["id"],
            )

        with op.batch_alter_table("clip_evaluation_metric", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_clip_evaluation_metric_clip_evaluation_id_clip_evaluation"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                batch_op.f("fk_clip_evaluation_metric_feature_name_id_feature_name"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_clip_evaluation_metric_clip_evaluation_id_clip_evaluation",
                "clip_evaluation",
                ["clip_evaluation_id"],
                ["id"],
            )
            batch_op.create_foreign_key(
                "fk_clip_evaluation_metric_feature_name_id_feature_name",
                "feature_name",
                ["feature_name_id"],
                ["id"],
            )

        with op.batch_alter_table("clip_evaluation", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_clip_evaluation_evaluation_id_evaluation"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                batch_op.f("fk_clip_evaluation_clip_annotation_id_clip_annotation"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                batch_op.f("fk_clip_evaluation_clip_prediction_id_clip_prediction"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_clip_evaluation_clip_prediction_id_clip_prediction",
                "clip_prediction",
                ["clip_prediction_id"],
                ["id"],
            )
            batch_op.create_foreign_key(
                "fk_clip_evaluation_evaluation_id_evaluation",
                "evaluation",
                ["evaluation_id"],
                ["id"],
            )
            batch_op.create_foreign_key(
                "fk_clip_evaluation_clip_annotation_id_clip_annotation",
                "clip_annotation",
                ["clip_annotation_id"],
                ["id"],
            )

        with op.batch_alter_table("clip_annotation_tag", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_clip_annotation_tag_clip_annotation_id_clip_annotation"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_clip_annotation_tag_clip_annotation_id_clip_annotation",
                "clip_annotation",
                ["clip_annotation_id"],
                ["id"],
            )

        with op.batch_alter_table("clip_annotation_note", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_clip_annotation_note_note_id_note"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                batch_op.f("fk_clip_annotation_note_clip_annotation_id_clip_annotation"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_clip_annotation_note_clip_annotation_id_clip_annotation",
                "clip_annotation",
                ["clip_annotation_id"],
                ["id"],
            )
            batch_op.create_foreign_key("fk_clip_annotation_note_note_id_note", "note", ["note_id"], ["id"])

        with op.batch_alter_table("clip_annotation", schema=None) as batch_op:
            batch_op.drop_constraint(batch_op.f("fk_clip_annotation_clip_id_clip"), type_="foreignkey")
            batch_op.create_foreign_key("fk_clip_annotation_clip_id_clip", "clip", ["clip_id"], ["id"])

        with op.batch_alter_table("clip", schema=None) as batch_op:
            batch_op.drop_constraint(batch_op.f("fk_clip_recording_id_recording"), type_="foreignkey")
            batch_op.create_foreign_key(
                "fk_clip_recording_id_recording",
                "recording",
                ["recording_id"],
                ["id"],
            )

        with op.batch_alter_table("annotation_task", schema=None) as batch_op:
            batch_op.drop_constraint(batch_op.f("fk_annotation_task_clip_id_clip"), type_="foreignkey")
            batch_op.drop_constraint(
                batch_op.f("fk_annotation_task_clip_annotation_id_clip_annotation"),
                type_="foreignkey",
            )
            batch_op.drop_constraint(
                batch_op.f("fk_annotation_task_annotation_project_id_annotation_project"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_annotation_task_annotation_project_id_annotation_project",
                "annotation_project",
                ["annotation_project_id"],
                ["id"],
            )
            batch_op.create_foreign_key("fk_annotation_task_clip_id_clip", "clip", ["clip_id"], ["id"])
            batch_op.create_foreign_key(
                "fk_annotation_task_clip_annotation_id_clip_annotation",
                "clip_annotation",
                ["clip_annotation_id"],
                ["id"],
            )

        with op.batch_alter_table("annotation_status_badge", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_annotation_status_badge_annotation_task_id_annotation_task"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_annotation_status_badge_annotation_task_id_annotation_task",
                "annotation_task",
                ["annotation_task_id"],
                ["id"],
            )

        with op.batch_alter_table("annotation_project_tag", schema=None) as batch_op:
            batch_op.drop_constraint(
                batch_op.f("fk_annotation_project_tag_annotation_project_id_annotation_project"),
                type_="foreignkey",
            )
            batch_op.create_foreign_key(
                "fk_annotation_project_tag_annotation_project_id_annotation_project",
                "annotation_project",
                ["annotation_project_id"],
                ["id"],
            )

        # ### end Alembic commands ###
